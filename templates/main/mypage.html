{% extends "base.html" %}
{% load static %}
{% block content %}
<!DOCTYPE html>
<html style="font-size: 16px;">
<head>
    <link href="https://fonts.googleapis.com/css?family=Nunito:200,300,400,600,700,900" rel="stylesheet">
    <link rel="stylesheet" href="{% static 'main/assets/css/nicepage.css' %}" media="screen">
    <link rel="stylesheet" href="{% static 'main/assets/css/mypage.css' %}" media="screen">
    <script class="u-script" type="text/javascript" src="{% static 'main/assets/js/jquery.js' %}" defer=""></script>
    <script class="u-script" type="text/javascript" src="{% static 'main/assets/js/nicepage.js' %}" defer=""></script>
    <meta name="generator" content="Nicepage 4.9.5, nicepage.com">
    <link id="u-theme-google-font" rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:100,100i,300,300i,400,400i,500,500i,700,700i,900,900i|Open+Sans:300,300i,400,400i,500,500i,600,600i,700,700i,800,800i">
    <meta name="theme-color" content="#478ac9">
    <meta property="og:title" content="mypage">
    <meta property="og:type" content="website">
</head>
  
<body>
  <section class="u-clearfix u-white u-section-1" id="sec-81db" style="min-height: 900px;">
    <div class="u-absolute-hcenter u-container-style u-expanded u-gradient u-group u-shape-rectangle u-group-1">
      <div class="u-container-layout u-container-layout-1"></div>
    </div>
    <div class="u-clearfix u-layout-wrap u-layout-wrap-1">
      <div style="box-shadow: 5px 5px 5px #bababa; margin-top:20%;" class="u-gutter-0 u-layout">
        <div class="u-layout-row">
          <div class="u-size-30">
            <div class="u-layout-col">
              <div class="u-container-style u-layout-cell u-size-30 u-white u-layout-cell-1" style="min-height:auto;">
                <div class="u-container-layout u-container-layout-2">
                  <h1 class="u-text u-text-default u-text-palette-2-base u-text-1">
                    <span style="font-weight: 700; font-size:70px;">Profile</span>
                  
                    <span style="font-weight: 700;"></span>
                  </h1>
                </div>
              </div>
              <div class="cell-temp-clone u-align-left u-container-style u-layout-cell u-size-30 u-white u-layout-cell-2">
                <div class="u-container-layout u-container-layout-3">
                  <img style ="border-radius: 40%; width:300px; height:300px;" , class="u-image u-image-default u-preserve-proportions u-image-1" src="{{user.profile_s3_url}}" alt="" data-image-width="1280" data-image-height="1280">
                  <button id="add_feed" onclick="goTop();" class="u-border-2 u-border-hover-palette-2-base u-border-palette-2-base u-btn u-btn-round u-button-style u-radius-50 u-white u-btn-1">
                    <span  class="u-file-icon u-icon u-text-palette-2-base u-icon-1">
                      <img style="border-radius: 70%;border: 3px solid #db545a;weight:30px; height:30px;" src="{% static 'main/images/9.png' %}" alt=""></span>
                  </button>
                 
                </div>
              </div>
            </div>
          </div>
          <div class="u-size-30">
            <div class="u-layout-col">
              <div class="u-container-style u-layout-cell u-size-12 u-white u-layout-cell-3" style="min-height:0px;">
                <div class="u-container-layout u-container-layout-4"></div>
              </div>
              <div class="u-container-style u-layout-cell u-size-9 u-white u-layout-cell-4">
                <div class="u-container-layout u-container-layout-5">
                  <p class="u-text u-text-palette-2-base u-text-2" style="font-size:45px;font-family: 'yg-jalnan';">이름</p>
                  <p class="u-text u-text-3" style="font-size:30px;">{{user.nickname}}&nbsp;</p>
                </div>
              </div>
              <div class="u-container-style u-layout-cell u-size-10 u-white u-layout-cell-5">
                <div class="u-container-layout u-container-layout-6">
                  <p class="u-text  u-text-palette-2-base u-text-4" style="font-size:45px;font-family: 'yg-jalnan';">이메일</p>
                  <p class="u-text u-text-5" style="font-size:30px;">{{user.email}}&nbsp;</p>
                </div>
                
              </div>
              {% comment %} <div class="cell-temp-clone u-container-style u-layout-cell u-size-10 u-white u-layout-cell-6">
                <div class="u-container-layout u-container-layout-7">
                  <p class="u-text  u-text-palette-2-base u-text-6">나이</p>
                  <p class="u-text u-text-7">27&nbsp;</p>
                </div>
              </div> {% endcomment %}
              {% comment %} <div class="u-align-left u-container-style u-layout-cell u-size-10 u-white u-layout-cell-7">
                <div class="u-container-layout u-container-layout-8">
                  <p style="margin: 0 auto 0 0px;" class="u-text  u-text-palette-2-base u-text-8">자기소개</p>
                  <p class="u-text u-text-9">Sample text. Click to select the text box. Click again or double click to start editing the text.</p>
                </div>
              </div> {% endcomment %}
              <div class="cell-temp-clone u-align-left u-container-style u-layout-cell u-size-9 u-white u-layout-cell-8"
              style="text-align:center;">
                  <a href="{% url 'account_change_password' %}" class="btn" 
                  style="font-family: 'yg-jalnan'; background-image:linear-gradient(to right, #77aad9, #e68387); 
                  border-style: none; color: white;
                  float:right; height:65px;font-size: 27px; margin-right:5%;" >비밀번호 변경</a>
                  <a href="{% url 'delete_account' %}" class="btn" 
                  style="font-family: 'yg-jalnan'; background-image:linear-gradient(to right, #77aad9, #e68387); 
                  border-style: none; color: white;
                  float:right; height:65px;font-size: 27px;" >탈퇴하기</a>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>      
</body>

    <div id="modal_add_feed" class="modal_overlay">
        <div class="modal_window">
            <div class="modal_title">
                <div class="modal_title_side"></div>
                <div> 프로필 사진 수정하기</div>
                <div class="modal_title_side">
                    <span id="close_modal" class="material-icons-outlined">
                        X
                    </span>
                </div>
            </div>
            <div>
            <form method="post" action="profile_upload" enctype="multipart/form-data">
                <div class="item"> 
                {% csrf_token %}
                    <div class="modal_image_upload" style="display: inline-block;">   
                        <img id="tempImage" src="../../static/photoguide/images/photo-placeholder.png">        
                        <input type="file" name="file" multiple="multiple" onchange="imageView(this)" accept="image/png, image/jpeg" required style="margin-top:1rem;margin-bottom:1rem; font-size: 2rem; padding: 0 10% 0 10%;font-family: 'yg-jalnan';">
                        <div>
                            <button style="background-image: linear-gradient(to right, #77aad9, #e68387);
                                border-style: none; margin : -4 0 0 0 ; display: inline-block;width: 10rem;height: auto;font-size: 2rem;
                                color: white;font-family: 'yg-jalnan';" type="submit" id = 'btn1' class="btn"> 등록하기 
                            </button>
                        </div>
                    </div>       
                </div>
            </form>
            </div>
        </div>
    </div>

    

<script>

  function goTop(){
    document.body.scrollTop = 0;
}

  const modal = document.getElementById("modal_add_feed");
    const buttonAddFeed = document.getElementById("add_feed");
    buttonAddFeed.addEventListener("click", e => {
        modal.style.display = "flex";
        document.body.style.overflowY = "hidden";
    });

  
  // 모달 닫기 코드
  const buttonCloseModal = document.getElementById("close_modal");
  buttonCloseModal.addEventListener("click", e => {
      modal.style.display = "none";
      document.body.style.overflowY = "visible";
  });

  function imageView(input) {
      /* Secure Coding */
      fileName = input.files[0].name
      if(!fileName.endsWith(".png") && !fileName.endsWith(".jpg") && !fileName.endsWith(".jpeg") && !fileName.endsWith(".PNG") && !fileName.endsWith(".JPG") && !fileName.endsWith(".JPEG")) {         
          document.getElementById("file").value = "";
          out.wright("업로드할 수 없는 확장자입니다.")
      } else {
            if (input.files && input.files[0]) {
                var reader = new FileReader();
                reader.onload = function(e) {
                    $('#tempImage').attr('src', e.target.result)
                     .width('60%')
                     .height('auto');
                }
                reader.readAsDataURL(input.files[0]);
            }
        }
    }
</script>

<style>  
  .box1 {
    float:left; width:200px; height:100px; background-color:#234234;}
   .box2 {
    display:inline-block; width:200px; height:100px; background-color:#666666; margin-left:10px;}  
  
@import url(https://fonts.googleapis.com/css?family=Montserrat:500);
.modal_overlay {
  width: 100%;
  height: 100%;
  position: absolute;
  left: 0;
  top: 0;
  display: none;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  background: rgba(0, 0, 0, 0.8);
  backdrop-filter: blur(1.5px);
  -webkit-backdrop-filter: blur(1.5px);
}

.modal_window {
  background: white;
  backdrop-filter: blur(13.5px);
  -webkit-backdrop-filter: blur(13.5px);
  border-radius: 10px;
  border: 1px solid rgba(255, 255, 255, 0.18);
  width: 80%%;
  height:fit-content;
  position: relative;
  padding: 10px;
}

.modal_title{
  display: flex;
  flex-direction: row;
  justify-content: space-between;
  font-weight: bold;
  font-size: 3rem;
  margin-bottom:10%;
  font-family: 'yg-jalnan';
}

.modal_title_side{
  flex: 0 0 40px;
  text-align: center;
}

.modal_image_upload{

  text-align: center;
  transition: all .15s ease-in-out;
  height: fit-content;
  display: grid;
  grid-template-rows: repeat(2, 1fr);
}
label[for="file-input"] {
  display: block;
  margin-bottom: 0.1em;
  font-size: 1em;
  color: #000;
  opacity: .9;
  font-weight: bold;  
}

input[type="file"] {
  cursor: pointer !Important;
}
input[type="file"]::-webkit-file-upload-button {
  border: none;
  padding: 5px 12px;
  background-image: linear-gradient(to right, #77aad9, #e68387);
  color: #fff;
  font-size: 1em;
  transition: all .4s;
  cursor: pointer;
  border-radius: 5px;  
}
input[type="file"]::-ms-browse {
  border: none;
  padding: 5px 12px;
  background: #9e2baf;
  color: #fff;
  font-size: 1em;
  transition: all .4s;
  cursor: pointer;
  border-radius: 20px;
}

span
{
  font-family: 'yg-jalnan';
    src: url('https://cdn.jsdelivr.net/gh/projectnoonnu/noonfonts_four@1.2/JalnanOTF00.woff') format('woff');
    font-weight: normal;
      font-style: normal;    
}
p
{
  font-family: 'Cafe24Ssurround';
    src: url('https://cdn.jsdelivr.net/gh/projectnoonnu/noonfonts_2105_2@1.0/Cafe24Ssurround.woff') format('woff');
    font-weight: normal;
    font-style: normal;
}

   </style>
  {% endblock %} 